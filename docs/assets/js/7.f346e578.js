(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{360:function(a,t){a.exports="data:image/png;base64,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"},384:function(a,t,U){"use strict";U.r(t);var p=U(44),l=Object(p.a)({},(function(){var a=this,t=a.$createElement,p=a._self._c||t;return p("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[p("h1",{attrs:{id:"优化相关"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#优化相关"}},[a._v("#")]),a._v(" 优化相关")]),a._v(" "),p("h2",{attrs:{id:"浏览器工作原理"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#浏览器工作原理"}},[a._v("#")]),a._v(" 浏览器工作原理")]),a._v(" "),p("p",[a._v("参考资料：\n"),p("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/Performance/How_browsers_work",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://developer.mozilla.org/zh-CN/docs/Web/Performance/How_browsers_work"),p("OutboundLink")],1),a._v(" "),p("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/Performance/Critical_rendering_path",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://developer.mozilla.org/en-US/docs/Web/Performance/Critical_rendering_path"),p("OutboundLink")],1)]),a._v(" "),p("h3",{attrs:{id:"解析"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#解析"}},[a._v("#")]),a._v(" 解析")]),a._v(" "),p("ol",[p("li",[p("p",[a._v("构建DOM Tree\n浏览器解析并构建dom tree 。")]),a._v(" "),p("blockquote",[p("p",[a._v("According to the Document Object Model (DOM), every HTML tag is an object. Nested tags are “children” of the enclosing one. The text inside a tag is an object as well.")])]),a._v(" "),p("p",[a._v("DOM树描述了文档的内容。"),p("code",[a._v("html")]),a._v("元素是第一个标签也是文档树的根节点。树反映了不同标记之间的关系和层次结构。嵌套在其他标记中的标记是子节点。DOM节点的数量越多，构建DOM树所需的时间就越长。")]),a._v(" "),p("p",[p("code",[a._v("<script>")]),a._v("标签(不带有 async  defer属性) 会阻塞HTML的解析,占用线程 。\n"),p("strong",[a._v("解析时等待获取css 图片 font 等不会阻塞HTML解析")])])]),a._v(" "),p("li",[p("p",[a._v("构建CSSDOM Tree\nDOM和CSSOM是两棵树. 它们是独立的数据结构。\n浏览器将CSS规则转换为可以理解和使用的样式映射。浏览器遍历CSS中的每个规则集，根据CSS选择器创建具有父、子和兄弟关系的节点树。\n浏览器从适用于节点的最通用规则开始，并通过应用更具体的规则递归地优化计算的样式。")])])]),a._v(" "),p("h3",{attrs:{id:"渲染"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#渲染"}},[a._v("#")]),a._v(" 渲染")]),a._v(" "),p("p",[p("strong",[a._v("步骤包括样式、布局、绘制，在某些情况下还包括合成")])]),a._v(" "),p("ol",{attrs:{start:"3"}},[p("li",[p("p",[a._v("Style\nDOM tree 和 CSSDOM tree 进行结合 ==》 Render tree.\nDOM树的根开始构建，遍历每个可见节点。 在 render tree 中，所有DOM都应用了对应的CSSDOM")])]),a._v(" "),p("li",[p("p",[a._v("Layout")]),a._v(" "),p("p",[a._v("第一次确定节点的大小和位置称为布局。随后对节点大小和位置的重新计算称为回流。\n第四步是在渲染树上运行布局以计算每个节点的几何体。布局是确定呈现树中所有节点的宽度、高度和位置，以及确定页面上每个对象的大小和位置的过程。\n回流是对页面的任何部分或整个文档的任何后续大小和位置的确定。\n为了确定每个对象的确切大小和位置，浏览器从Render DOM的根开始遍历它。")])]),a._v(" "),p("li",[p("p",[a._v("Paint\n最后一步是将各个节点绘制到屏幕上，。在绘制或光栅化阶段，浏览器将在布局阶段计算的每个框转换为屏幕上的实际像素。\n绘画包括将元素的每个可视部分绘制到屏幕上，包括文本、颜色、边框、阴影和替换的元素（如按钮和图像）.")]),a._v(" "),p("p",[a._v("绘制可以将布局树中的元素分解为多个层。将内容提升到GPU上的层（而不是CPU上的主线程）可以提高绘制和重新绘制性能。\n当文档的各个部分以不同的层绘制，相互重叠时，必须进行合成，以确保它们以正确的顺序绘制到屏幕上，并正确显示内容。")]),a._v(" "),p("p",[a._v("为了确保重绘的速度比初始绘制的速度更快，屏幕上的绘图通常被分解成数层。如果发生这种情况，则需要进行合成。")]),a._v(" "),p("p",[p("strong",[a._v("为了减小布局事件的频率和时长，批量更新或者避免改动盒模型属性")]),a._v(" "),p("img",{attrs:{src:U(360),alt:"关键渲染路径"}}),a._v(";")])])]),a._v(" "),p("p",[a._v("优化方向:")]),a._v(" "),p("ul",[p("li",[p("p",[a._v("减少阻塞 :\njs 会阻塞主线程解析HTML ，不重要的js放到后面加载或异步加载。\n获取css不阻塞html 解析，但是会阻塞js ，因为js会查询css信息。")])]),a._v(" "),p("li",[p("p",[a._v("减少重排\nLayout阶段， 确定节点的大小和位置。 大小 ，位置，dom 元素变动 增加 删除 都会造成Layout变化，reLayout + rePaint。\n缓存dom ，修改完成后 ，在进行替换")])]),a._v(" "),p("li",[p("p",[a._v("减少重绘\nPaint 阶段，绘制到屏幕上 ，bg ，text 等改变都引起，浏览器做过最小rePaint 优化。\n可以合并DOM 操作 ，改style --\x3e改class")])]),a._v(" "),p("li",[p("p",[a._v("节流： scroll 等事件")])])])])}),[],!1,null,null,null);t.default=l.exports}}]);